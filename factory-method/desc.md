# Factory Method
λ³µμ΅λ„ : β…β†β†<br/>
μΈκΈ°λ„ : β…β…β… 

## μλ„

Factory Method ν¨ν„΄μ€ λ¶€λ¨ ν΄λμ¤κ°€ κ°μ²΄λ¥Ό μƒμ„±ν•  μ μλ” κ³µν†µ μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•κ³ <br/>
μ‹¤μ λ΅ μ–΄λ–¤ κ°μ²΄λ¥Ό λ§λ“¤μ§€λ” μμ‹ ν΄λμ¤κ°€ κ²°μ •ν•λ„λ΅ ν•λ” ν¨ν„΄μ΄λ‹¤.

## λ¬Έμ 

λ§μ•½ λ¬Όλ¥ μ•±μ„ κ°λ°ν•κ³  μλ‹¤κ³  κ°€μ •ν•΄λ΄…μ‹λ‹¤.<br/>
μ•±μ μ²« λ²μ§Έ λ²„μ „μ€ νΈλ­ μ΄μ†΅λ§μ„ μ²λ¦¬ν•  μ μμ–΄μ„ λ€λ¶€λ¶„μ μ½”λ“κ°€ `Truck` Classμ— μμµλ‹λ‹¤.<br/>

μ–Όλ§ ν›„, μ•±μ΄ μ λ…ν•΄μ§€κ³  ν•΄μƒ λ¬Όλ¥ νμ‚¬λ“¤λ΅λ¶€ν„° ν•΄μƒ λ¬Όλ¥ κΈ°λ¥μ„ μ•±μ— μ¶”κ°€ν•΄ λ‹¬λΌλ” μ”μ²­μ„ λ°›μµλ‹λ‹¤.<br/>

κ·Έλ¬λ‚ ν„μ¬ λ€λ¶€λ¶„μ μ½”λ“λ” `Truck` Classμ— κ²°ν•©λμ–΄ μμ–΄ `Ship`ν΄λμ¤λ¥Ό μ¶”κ°€ν•λ ¤λ©΄ μ „μ²΄ μ½”λ“ λ² μ΄μ¤λ¥Ό λ³€κ²½ν•΄μ•Ό ν•©λ‹λ‹¤.<br/>
**β†’ μ¶”ν›„ λ λ‹¤λ¥Έ μ΄μ†΅μλ‹¨μ„ μ¶”κ°€ν•λ ¤λ©΄ μ•„λ§ μ „μ²΄ μ½”λ“ λ² μ΄μ¤λ¥Ό μμ •ν•΄μ•Ό ν•  κ²ƒμ…λ‹λ‹¤.**<br/>
κ·Έλ¬λ©΄ κ²°κ³Όμ μΌλ΅ λ§μ€ μ΅°κ±΄λ¬Έμ΄ μ΄μ†΅ μλ‹¨ κ°μ²΄λ“¤μ ν΄λμ¤μ— λ”°λΌ μ•±μ ν–‰λ™μ„ λ°”κΎΈλ” λ§¤μ° λ³µμ΅ν• μ½”λ“κ°€ μ‘μ„±λ  κ²ƒμ…λ‹λ‹¤.<br/>

```js
// Truckμ— κ°•ν• μ»¤ν”λ§ κµ¬μ΅°λ¥Ό κ°–λ” ν„μ¬ μ•± κµ¬μ΅°

class Truck {
  deliver(cargo, destination) {
    console.log(`π νΈλ­μ΄ ${cargo}λ¥Ό ${destination}κΉμ§€ μ΄μ†΅ν•©λ‹λ‹¤.`);
  }
}

function startDeliver(cargo, destination) {
  const truck = new Truck();
  truck.deliver(cargo, destination);
}

startDeliver("μƒν’", "μ„μΈ");
```

λ§μ•½ ν•΄λ‹Ή μ½”λ“μ—μ„ λ‹¤λ¥Έ μ΄μ†΅μλ‹¨(e.g `Ship`)μ„ μ¶”κ°€ν•λ ¤λ©΄ μ „μ²΄ μ½”λ“ λ² μ΄μ¤λ” μ•„λμ²λΌ λ  κ²ƒμ…λ‹λ‹¤.

```js
class Truck {
  deliver(cargo, destination) {
    console.log(`π νΈλ­μ΄ ${cargo}λ¥Ό ${destination}κΉμ§€ μ΄μ†΅ν•©λ‹λ‹¤.`);
  }
}
// μƒλ΅μ΄ μ΄μ†΅μλ‹¨ μ¶”κ°€
class Ship {
  deliver(cargo, destination) {
    console.log(`πΆ λ°°κ°€ ${cargo}λ¥Ό ${destination}κΉμ§€ μ΄μ†΅ν•©λ‹λ‹¤.`);
  }
}

function startDeliver(transportType, cargo, destination) {
  if (transportType === "truck") {
    const truck = new Truck();
    truck.deliver(cargo, destination);
  } else if (transportType === "ship") {
    const ship = new Ship();
    ship.deliver(carge, destination);
  } else {
    console.log("ν„μ¬ μ§€μ›λμ§€ μ•λ” μ΄μ†΅μλ‹¨μ…λ‹λ‹¤.");
  }
  // λ‹¤λ¥Έ μ΄μ†΅μλ‹¨ μ¶”κ°€μ‹ κ³„μ† μ¦κ°€
}

startDeliver("truck", "μƒν’", "μ„μΈ");
startDeliver("ship", "μƒν’", "λ¶€μ‚°ν•­");
```

> κ²°κ³Όμ μΌλ΅ λ§μ€ μ΅°κ±΄λ¬Έμ΄ μƒμ„±λλ©°, μ΄μ†΅μλ‹¨ κ°μ²΄λ“¤μ Classμ— λ”°λΌ μ•±μ ν–‰λ™μ„ λ°”κΎΈλ” λ³µμ΅ν• μ½”λ“κ°€ μ‘μ„±λ  κ²ƒμ…λ‹λ‹¤.

## ν•΄κ²°μ±…

ν©ν† λ¦¬ λ©”μ„λ“ ν¨ν„΄μ€ `new`λ¥Ό μ§μ ‘ μ“°λ” λ€μ‹  κ°μ²΄ μƒμ„±μ„ μ „μ© λ©”μ„λ“(ν©ν† λ¦¬ λ©”μ„λ“)λ΅ μ¶”μƒν™”ν•΄μ„ μ²λ¦¬ν•μκ³  μ μ•ν•©λ‹λ‹¤.<br/>
μ‚¬μ‹¤ λ‚΄λ¶€μ μΌλ΅λ” μ—¬μ „ν `new`λ¥Ό ν†µν•΄μ„ μΈμ¤ν„΄μ¤κ°€ λ§λ“¤μ–΄μ§€μ§€λ§ μ΄ λ΅μ§μ„ ν©ν† λ¦¬ λ©”μ„λ“ μ•μΌλ΅ μ¨κΈ°λ” κ±°μ£ <br/>
κ·Έλ¦¬κ³  ν©ν† λ¦¬ λ©”μ„λ“κ°€ return ν•λ” κ°μ²΄λ¥Ό ν”ν **Product**λΌκ³  λ¶€λ¦…λ‹λ‹¤.<br/>

> μ§μ ‘ `new`μƒμ„±μ ν•¨μλ¥Ό νΈμ¶ν•΄μ„ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ” λ€μ‹  μƒμ„±μ ν•¨μλ¥Ό ν©ν† λ¦¬ λ©”μ„λ“μ—κ² μ„μ„ν•λΌλ” λ»μ…λ‹λ‹¤.

<img width="1240" height="540" alt="image" src="https://github.com/user-attachments/assets/a19fa841-903e-4daa-8d77-ab3f0d76c1bc" />

μ΄λ¬ν• λ³€κ²½μ€ λ¬΄μλ―Έν•΄ λ³΄μΌ μλ„ μμµλ‹λ‹¤. μ™λƒ μƒμ„±μ νΈμ¶μ„ ν”„λ΅κ·Έλ¨μ ν• λ¶€λ¶„μ—μ„ λ‹¤λ¥Έ λ¶€λ¶„μΌλ΅ μ®κΈ°κΈ°λ§ ν–μ„ λΏμ΄κΈ° λ•λ¬Έμ…λ‹λ‹¤.<br/>
κ·Έλ¬λ‚ μ„μ™€ κ°™μ€ λ³€κ²½ λ•λ¶„μ— μ΄μ  μμ‹ Classμ—μ„ ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ”©ν•κ³  κ·Έ λ©”μ„λ“μ— μν•΄ μƒμ„±λλ” μ ν’λ“¤μ ν΄λμ¤λ¥Ό λ³€κ²½ν•  μ μκ² λμ—μµλ‹λ‹¤.

> **μƒμ„±λλ” μ ν’λ“¤μ ν΄λμ¤λ¥Ό λ³€κ²½κ°€λ¥ν•λ‹¤λ”κ² λ¬΄μ¨ λ§μΌκΉ?**<br/>
> 1. λ¶€λ¨ ν΄λμ¤μ—λ” κ³µμ¥(ν©ν† λ¦¬ λ©”μ„λ“)λ§ μ •μλμ–΄ μμ<br/>
> 2. μμ‹ ν΄λμ¤κ°€ μ΄ ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ”©ν•΄μ„ μ‹¤μ  μ–΄λ–¤ "Product Class"λ¥Ό λ§λ“¤μ§€λ¥Ό λ°”κΏ€ μ μλ‹¤λ” κ²ƒ (e.g `Ship`, `Truck` μ¤‘ μ„ νƒ κ°€λ¥)<br/>
> λ¶€λ¨ ν΄λμ¤λ” `createProduct()`λΌλ” ν©ν† λ¦¬ λ©”μ„λ“λ§ μμ<br/>
> μ‹¤μ λ΅ μ–΄λ–¤ ν΄λμ¤λ¥Ό λ§λ“¤μ§€λ” λ¨λ¥΄κ² μ(ν΄λΌμ΄μ–ΈνΈμ μμ—­)<br/>
> μμ‹ ν΄λμ¤λ” λ‚΄κ°€ `createProduct()`λ¥Ό μ¤λ²„λΌμ΄λ“ν•΄μ„ μ–΄λ–¤ Productλ¥Ό λ§λ“¤μ§€ μ •ν•¨<br/>

μ—¬κΈ°μ—λ” μ μ•½μ΄ μλ”λ° λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.<br/>  
μμ‹ ν΄λμ¤κ°€ λ‹¤λ¥Έ **Product Class(μ ν’ μ ν•)**μ„ λ°ν™ν•κΈ° μ„ν•΄μ„λ” κ³µν†µλ `class`λ‚ `interface`λ¥Ό κ°€μ Έμ•Ό ν•©λ‹λ‹¤.<br/>
e.g) μ•μ—μ„ μ–ΈκΈ‰ν• μ΄μ†΅μλ‹¨(`Truck`,`Ship`)μ€ `Transport`μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ―€λ΅<br/>
λ¶€λ¨ ν΄λμ¤μΈ `Logistics`μ€ ν©ν† λ¦¬ λ©”μ„λ“ `createTransport`μ λ°ν™ νƒ€μ…μ„ `Transport`λ΅ μ„ μ–Έν•΄μ•Ό ν•©λ‹λ‹¤.<br/>

<img width="980" height="500" alt="image" src="https://github.com/user-attachments/assets/0d43f415-5375-4b10-a396-7be7357cd366" />

`Truck`κ³Ό `Ship` ν΄λμ¤λ“¤μ€ λ¨λ‘ `Transport` μΈν„°νμ΄μ¤λ¥Ό ν† λ€λ΅ λ§λ“¤μ–΄μ§€λ©° `Transport` μΈν„°νμ΄μ¤λ” `deliver` λ©”μ„λ“λ¥Ό μ„ μ–Έν•©λ‹λ‹¤.<br/>
κ·Έλ¬λ‚ κ° κµ¬μ²΄ ν΄λμ¤λ” μ΄ λ©”μ„λ“λ¥Ό λ‹¤λ¥΄κ² κµ¬ν„ν•©λ‹λ‹¤.<br/>
νΈλ­μ€ μ΅λ΅λ΅ ν™”λ¬Όμ„ λ°°λ‹¬ν•λ©° μ„ λ°•μ€ ν•΄μƒμΌλ΅ ν™”λ¬Όμ„ λ°°λ‹¬ν•©λ‹λ‹¤.<br/>
- `RoadLogistics` ν΄λμ¤μ— ν¬ν•¨λ ν©ν† λ¦¬ λ©”μ„λ“λ” `Truck`κ°μ²΄λ“¤μ„ λ°ν™ν•©λ‹λ‹¤.<br/>
- `SeaLogistics`ν΄λμ¤μ— ν¬ν•¨λ ν©ν† λ¦¬ λ©”μ„λ“λ” `ship` κ°μ²΄λ“¤μ„ λ°ν™ν•©λ‹λ‹¤.<br/>

```ts
// Product
interface Transport {
  deliver(): void;
}

// Concrete product
class Truck implements Transport {
  deliver() {
    console.log("π νΈλ­μ΄ λ°°μ†΅ν•©λ‹λ‹¤.");
  }
}

class Ship implements Transport {
  deliver() {
    console.log("πΆ μ„ λ°•μ΄ λ°°μ†΅ν•©λ‹λ‹¤.");
  }
}

// Creator 
abstract class Logistics { 
  abstract createTransport(): Transport;

  planDelivery() {
    const transport = this.createTransport();
    transport.deliver();
  }
}

// μ§€μƒ λ¬Όλ¥
class RoadLogistics extends Logistics {
  createTransport(): Transport {
    return new Truck();
  }  
}

// ν•΄μ–‘ λ¬Όλ¥
class SeaLogistics extends Logistics {
  createTransport(): Transport {
    return new Ship();
  }
}
```

### Client code 
ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” μ½”λ“λ¥Ό Client codeλΌκ³  λ¶€λ¥΄λ©°, Client codeλ” λ‹¤μ–‘ν• μμ‹ ν΄λμ¤λ“¤μ—μ„ μ‹¤μ λ΅ λ°ν™λλ” μ—¬λ¬ μ ν’κ°„μ μ°¨μ΄λ¥Ό μ•μ§€ λ»ν•©λ‹λ‹¤. Client codeλ” λ¨λ“  μ ν’μ„ μ¶”μƒ`Transport`λ΅ κ°„μ£Όν•©λ‹λ‹¤.<br/>
ν΄λΌμ΄μ–ΈνΈλ” λ¨λ“  `Transport`κ°μ²΄λ“¤μ΄ `deliver` λ©”μ„λ“λ¥Ό κ°€μ Έμ•Ό ν•λ‹¤λ” μ‚¬μ‹¤λ§μ„ μ•κ³  μμ„ λΏ, μ΄ λ©”μ„λ“κ°€ μ •ν™•ν μ–΄λ–»κ² μ‘λ™ν•λ”μ§€λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μ¤‘μ”ν•μ§€ μ•μµλ‹λ‹¤. 
```ts
function clientCode(logistics: Logistics) {
  logistics.planDelivery();
}

clientCode(new RoadLogistics());
clientCode(new SeaLogistics());
```
<img width="368" height="137" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2025-09-01 α„‹α…©α„’α…® 6 58 20" src="https://github.com/user-attachments/assets/3d4f88b2-d694-4c15-8e3b-a620aa45d38a" />

## κµ¬μ΅° 

<img width="1320" height="760" alt="image" src="https://github.com/user-attachments/assets/4de99a80-7ce8-4eec-bc7a-d22a81830cab" />

1. Product μΈν„°νμ΄μ¤ μ„ μ–Έ : μΈν„°νμ΄μ¤λ” μƒμ„±μμ™€ μμ‹ ν΄λμ¤λ“¤μ΄ μƒμ„±ν•  μ μλ” λ¨λ“  κ³µν†µ κ°μ²΄<br/>
2. Concrete Product : μ ν’ μΈν„°νμ΄μ¤μ κµ¬μ–‘ν• μ‹¤μ  κµ¬ν„λ“¤<br/>
3. Creator ν΄λμ¤λ” μƒλ΅μ΄ μ ν’ κ°μ²΄λ“¤μ„ λ°ν™ν•λ” ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό μ„ μ–Έ :<br/>
   - μ¤‘μ”ν• μ μ€ ν©ν† λ¦¬ λ©”μ„λ“μ return typeμ΄ Product μΈν„°νμ΄μ¤μ™€ μΌμΉν•΄μ•Ό ν•©λ‹λ‹¤.(`factory method return === Product interface`)<br/>
   - λ‹Ήμ‹ μ€ ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό `abstract`λ΅ μ„ μ–Έν•μ—¬ λ¨λ“  μμ‹ ν΄λμ¤λ“¤μ΄ κ°κ° μ΄ λ©”μ„λ“μ μμ²΄ λ²„μ „λ“¤μ„ κµ¬ν„ν•λ„λ΅ κ°•μ ν•  μ μμΌλ©° λ κΈ°μ΄ ν©ν† λ¦¬ λ©”μ„λ“κ°€ κΈ°λ³Έκ°’μ„ κ°€μ§€λ” μ ν’ νƒ€μ…μ„ λ°ν™ν•λ„λ΅ λ§λ“¤ μλ„ μμµλ‹λ‹¤.
   - CreatorλΌλ” μ΄λ¦„μ—λ„ λ¶κµ¬ν•κ³  Creatorμ μ£Όμ”ν• μ±…μ„μ€ μ ν’μ„ μƒμ„±ν•λ” κ²ƒμ€ μ•„λ‹™λ‹λ‹¤. μΌλ°μ μΌλ΅ Creator ν΄λμ¤μ—λ” μ΄λ―Έ μ ν’κ³Ό κ΄€λ ¨λ ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ μμΌλ©°, ν©ν† λ¦¬ λ©”μ„λ“λ” μ΄ λ΅μ§μ„ κµ¬μ²΄ μ ν’ ν΄λμ¤λ“¤λ΅λ¶€ν„° λ””μ»¤ν”λ§(λ¶„λ¦¬) ν•λ”λ° λ„μ›€μ„ μ¤„ λΏμ…λ‹λ‹¤.
4. Concrete Creator : κΈ°μ΄ ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ν•μ—¬ λ‹¤λ¥Έ typeμ productλ¥Ό λ°ν™ν•κ² ν•©λ‹λ‹¤.
   - μ°Έκ³ λ΅ ν©ν† λ¦¬ λ©”μ„λ“λ” ν•­μƒ μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  ν•„μ”κ°€ μ—†μµλ‹λ‹¤. ν©ν† λ¦¬ λ©”μ„λ“λ” κΈ°μ΅΄ κ°μ²΄λ“¤μ„ cache, obejct pool λλ” λ‹¤λ¥Έ μ†μ¤λ΅λ¶€ν„° λ°ν™ν•  μ μμµλ‹λ‹¤.
